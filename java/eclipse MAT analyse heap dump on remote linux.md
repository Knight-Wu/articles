
1. first download binary to linux server
[https://www.eclipse.org/mat/downloads.php](https://www.eclipse.org/mat/downloads.php)

2. change conf


```
vi MemoryAnalyzer.ini // 添加以下参数, Xmx 最好是heap dump 的两倍大小

-vmargs
-Xmx40960m
-Xms40960m
-XX:+UseG1GC
```
3. if heap dump is already generated by outOfMemoryHeapDump, 
```
./ParseHeapDump.sh java_pidXXXX.hprof -consoleLog org.eclipse.mat.api:suspects org.eclipse.mat.api:overview org.eclipse.mat.api:top_components

```
then will generate some htmlPage.zip, can download to local. 

> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTU1NTQwODExOF19
-->